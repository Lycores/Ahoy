## 难点

### 如何在不获得真实dom的情况下（尽量用虚拟dom）把参数告知某个函数？

##### 如果直接用X(argument)的话会直接调用。 方法是使用函数的柯里化（高级函数），先调用传参，然后返回一个函数指针达到不调用的目的。

### 当父组件有事件需要获得子组件节点，但是子组件无法使用 ref 怎么办？

##### 使用 forwardRef （这里可以继续展开）

### 如何让垫在底下的Card 展开？

##### 我们需要用ref定位后获得原生html node 然后 .classList 后增加一个新的class , 因此 className监听到变化的同时transition生效

### 如何解决CORS?

##### setupProxy 方法

### 如何隐藏scrollBar

### 怎么互相import

##### ES6 可以随便cyclic import commonjs不行

### useState() 生成了一个state和一个setState, 如何在外部调用setState方法？

##### 如果是变量一定别用const

踩坑：.env文件一定要格式正确



## 难点

##### string作为object key 和普通的key的效果是不一样的，如果一个object 有一个普通key, 那么如果替换这个普通key为它字符串形式,虽然打印出来一样，其实他们已经不一样了。string作为object key是老语法不要用，这种access property的方法叫[Computed property names](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Object_initializer#computed_property_names)

##### 当你插入css代码的时候，由于react 用javascript代替css, 让结合多个box-shadow成为不可能



## 设计模式

##### 首先在主页的卡片我们要追踪很多很多的卡片，那就有很多state需要更新，那就要放置很多的clickHandler, 那就有很多function。首先我们通过工厂模式集中更新state. 但是我发现使用简单的工厂模式依然有很长的switch, 后来我追加了一个工厂模式，通过 拼接注入的名字和某个字符串生成object的key，再使用es6 syntax computed property names, 使用一个function就替代了超长的代码

## 辅助插件的引入

为了把一些css变量全局化，比如，为响应式页面做准备，我吧变量放入js文件，然而问题在于，css不支持引入js文件，也就是说我无法全局化变量，我只能在:root里 放置全局变量

## 设计经验

（存疑）CSS layout设计应该以谁最重要，谁定义谁的尺寸就应该先被编写CSS。这是一种自下而上的设计。比如我想定义一个音乐播放器，而上方是一些playlist，他们竖直放在一个container里，我要求它在某个尺寸以下变为fixed的小播放器，这个时候player拥有更高的优先级。它应该先被定义。也就是说，player的尺寸先于container的尺寸被设计， 说到底，就是是先设计小部件的尺寸，再让宽高自己适应，还是先设计宽高，再设计小部件

设计的时候要避免watch 不必要的 state, 比如，onclick的时候，如果发生对象和作用对象一致，不需要用useRef， 直接event.target就可以。有时候为了方便调整layout我通常会设计很多global变量，做到修改一处代码整个layout修改。这个，与 responsive page是不同的，只有当尺寸改变需要相应才需要useState



## DEBUG

.env文件要按照格式写好

player button onClick 直接叫了函数没有给函数指针，导致back, next, pause 在来回换，因为他们都被call了。音乐卡死了



## 路程

一开始只是想制作一个home assistance， 做完了card的transition之后我的野心变大了，想要做一个music player 带响应式的， 所以制作了top bar并且达到了响应式，然后开始制作playlist 页面，并且我让卡片有了3d illustration.在成功让spotify在我的页面运行之后我就觉得这个更像一个音乐播放器. 然后我开始发现页面有些卡了，之前都是用display none的，不能用了，我用 react router按需要加载而且以前的home assistance感觉开始有点无聊，所以我在想怎么运用卡片这个废弃资产





















